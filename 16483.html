<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cura Vanta - Smart Health Assistant</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #8fd3f4, #84fab0);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      width: 420px;
      padding: 30px;
      text-align: center;
      animation: fadeIn 1s;
    }
    h1 {
      color: #00796b;
      margin-bottom: 20px;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background: #00796b;
      color: white;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #005b4f;
    }
    .hidden {
      display: none;
    }
    #result-box {
      text-align: left;
      background: #f9f9f9;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(-10px);}
      to {opacity: 1; transform: translateY(0);}
    }
    .print-btn {
      background: #ff7043;
      margin-top: 15px;
    }
    .print-btn:hover {
      background: #e64a19;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Cura Vanta 🩺</h1>

    <!-- Step 1: Patient Details -->
    <div id="step1">
      <h3>Patient Details</h3>
      <input type="text" id="name" placeholder="Full Name" required>
      <input type="number" id="age" placeholder="Age" required>
      <select id="gender">
        <option value="">Select Gender</option>
        <option>Male</option>
        <option>Female</option>
        <option>Other</option>
      </select>
      <button onclick="goToStep2()">Next ➡️</button>
    </div>

    <!-- Step 2: Symptoms -->
    <div id="step2" class="hidden">
      <h3>Select Your Symptoms</h3>
      <p>Choose all that apply:</p>
      <div style="text-align:left;max-height:180px;overflow-y:auto;">
        <label><input type="checkbox" value="fever"> Fever</label><br>
        <label><input type="checkbox" value="cough"> Cough</label><br>
        <label><input type="checkbox" value="cold"> Cold</label><br>
        <label><input type="checkbox" value="headache"> Headache</label><br>
        <label><input type="checkbox" value="sore throat"> Sore throat</label><br>
        <label><input type="checkbox" value="vomiting"> Vomiting</label><br>
        <label><input type="checkbox" value="fatigue"> Fatigue</label><br>
        <label><input type="checkbox" value="chest pain"> Chest pain</label><br>
        <label><input type="checkbox" value="shortness of breath"> Shortness of breath</label><br>
        <label><input type="checkbox" value="body pain"> Body pain</label><br>
        <label><input type="checkbox" value="stomach pain"> Stomach pain</label><br>
        <label><input type="checkbox" value="diarrhea"> Diarrhea</label><br>
        <label><input type="checkbox" value="rashes"> Skin rashes</label><br>
        <label><input type="checkbox" value="loss of smell"> Loss of smell</label><br>
        <label><input type="checkbox" value="loss of taste"> Loss of taste</label><br>
      </div>
      <button onclick="goToStep3()">Next ➡️</button>
    </div>

    <!-- Step 3: Result -->
    <div id="step3" class="hidden">
      <h3>Result & Suggestion 🩺</h3>
      <div id="result-box">
        <p><strong>Patient Name:</strong> <span id="rName"></span></p>
        <p><strong>Age:</strong> <span id="rAge"></span></p>
        <p><strong>Gender:</strong> <span id="rGender"></span></p>
        <p><strong>Symptoms:</strong> <span id="rSymptoms"></span></p>
        <hr>
        <p><strong>Suggestion:</strong></p>
        <p id="rSuggestion"></p>
      </div>
      <button class="print-btn" onclick="printResult()">🖨️ Print</button>
      <button onclick="restart()">🔄 Restart</button>
    </div>
  </div>

  <script>
    let patient = { name: "", age: "", gender: "", symptoms: [] };

    function goToStep2() {
      const name = document.getElementById('name').value.trim();
      const age = document.getElementById('age').value.trim();
      const gender = document.getElementById('gender').value;

      if (!name || !age || !gender) {
        alert("Please fill all details!");
        return;
      }

      patient.name = name;
      patient.age = age;
      patient.gender = gender;

      document.getElementById('step1').classList.add('hidden');
      document.getElementById('step2').classList.remove('hidden');
    }

    function goToStep3() {
      const symptoms = Array.from(document.querySelectorAll('#step2 input[type="checkbox"]:checked'))
        .map(cb => cb.value);

      if (symptoms.length === 0) {
        alert("Please select at least one symptom!");
        return;
      }

      patient.symptoms = symptoms;
      const suggestion = getSuggestion(symptoms);

      document.getElementById('rName').innerText = patient.name;
      document.getElementById('rAge').innerText = patient.age;
      document.getElementById('rGender').innerText = patient.gender;
      document.getElementById('rSymptoms').innerText = symptoms.join(", ");
      document.getElementById('rSuggestion').innerHTML = suggestion;

      document.getElementById('step2').classList.add('hidden');
      document.getElementById('step3').classList.remove('hidden');
    }

    function getSuggestion(symptoms) {
      // Health suggestion + food advice
      if (symptoms.includes("fever") && symptoms.includes("cough") && symptoms.includes("loss of smell")) {
        return "⚠️ Possible COVID-19 or flu.<br>🍲 Eat: Soups, fruits rich in vitamin C (orange, amla), and stay hydrated.<br>🚫 Avoid: Cold drinks & oily food.";
      } 
      if (symptoms.includes("vomiting") && symptoms.includes("stomach pain")) {
        return "🤢 Possible food poisoning.<br>🍎 Eat: Bananas, boiled rice, ORS, and drink water.<br>🚫 Avoid: Street food & dairy products.";
      }
      if (symptoms.includes("headache") && symptoms.includes("fatigue")) {
        return "😴 Possible stress or migraine.<br>🍵 Eat: Light meals, drink green tea, and rest well.<br>🚫 Avoid: Caffeine & long screen time.";
      }
      if (symptoms.includes("chest pain") || symptoms.includes("shortness of breath")) {
        return "🚨 Seek immediate medical help.<br>🍎 Eat: Light food and avoid salt & fried food until checked by doctor.";
      }
      if (symptoms.includes("cold") && symptoms.includes("sore throat")) {
        return "🤧 Common cold or viral infection.<br>🍯 Eat: Warm soup, honey, ginger tea.<br>🚫 Avoid: Ice creams & cold water.";
      }

      return "😊 You seem fine.<br>🍎 Eat healthy, drink plenty of water, and take proper rest.";
    }

    function printResult() {
      const printContent = document.getElementById('result-box').innerHTML;
      const originalContent = document.body.innerHTML;
      document.body.innerHTML = printContent;
      window.print();
      document.body.innerHTML = originalContent;
      location.reload();
    }

    function restart() {
      document.getElementById('step3').classList.add('hidden');
      document.getElementById('step1').classList.remove('hidden');
      document.querySelectorAll('input').forEach(el => el.value = "");
      document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
      document.getElementById('gender').value = "";
    }
  </script>
</body>
</html>
